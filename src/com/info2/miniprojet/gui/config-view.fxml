<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.SpinnerValueFactory.DoubleSpinnerValueFactory?>
<?import javafx.scene.control.SpinnerValueFactory.IntegerSpinnerValueFactory?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.Priority?>

<VBox prefWidth="500.0" spacing="15.0" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.info2.miniprojet.gui.ConfigViewController">
    <padding>
        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
    </padding>
    <children>
        <Label text="Application Configuration">
            <font>
                <Font name="System Bold" size="16.0" />
            </font>
        </Label>

        <GridPane hgap="10" vgap="10">
            <columnConstraints>
                <ColumnConstraints hgrow="NEVER" minWidth="200.0" prefWidth="200.0"/>
                <ColumnConstraints hgrow="ALWAYS" />
            </columnConstraints>

            <Label text="Preprocessor Strategy:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
            <ComboBox fx:id="preprocessorComboBox" maxWidth="Infinity" GridPane.rowIndex="0" GridPane.columnIndex="1" />

            <Label text="Candidate Finder Strategy:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
            <ComboBox fx:id="candidateFinderComboBox" maxWidth="Infinity" GridPane.rowIndex="1" GridPane.columnIndex="1" />

            <Label text="Name Comparator Strategy:" GridPane.rowIndex="2" GridPane.columnIndex="0" />
            <ComboBox fx:id="nameComparatorComboBox" onAction="#onNameComparatorSelected" maxWidth="Infinity" GridPane.rowIndex="2" GridPane.columnIndex="1" />

            <Label fx:id="stringComparatorLabel" text="Internal String Comparator:" GridPane.rowIndex="3" GridPane.columnIndex="0" />
            <ComboBox fx:id="stringComparatorComboBox" maxWidth="Infinity" GridPane.rowIndex="3" GridPane.columnIndex="1" />

            <Label text="Result Filtering Mode:" GridPane.rowIndex="4" GridPane.columnIndex="0" />
            <HBox spacing="10" GridPane.rowIndex="4" GridPane.columnIndex="1">
                <fx:define>
                    <ToggleGroup fx:id="resultModeToggleGroup" />
                </fx:define>
                <RadioButton fx:id="thresholdModeRadio" text="Threshold" toggleGroup="$resultModeToggleGroup" onAction="#onResultModeChanged"/>
                <RadioButton fx:id="maxResultsModeRadio" text="Max Results" toggleGroup="$resultModeToggleGroup" onAction="#onResultModeChanged"/>
            </HBox>

            <Label fx:id="thresholdLabel" text="Similarity/Distance Threshold:" GridPane.rowIndex="5" GridPane.columnIndex="0" />
            <Spinner fx:id="thresholdSpinner" editable="true" maxWidth="Infinity" GridPane.rowIndex="5" GridPane.columnIndex="1">
                <valueFactory>
                    <SpinnerValueFactory.DoubleSpinnerValueFactory min="0.0" max="100.0" initialValue="0.85" amountToStepBy="0.01" />
                </valueFactory>
            </Spinner>

            <Label fx:id="maxResultsLabel" text="Max Number of Results:" GridPane.rowIndex="6" GridPane.columnIndex="0" />
            <Spinner fx:id="maxResultsSpinner" editable="true" maxWidth="Infinity" GridPane.rowIndex="6" GridPane.columnIndex="1">
                <valueFactory>
                    <SpinnerValueFactory.IntegerSpinnerValueFactory min="1" max="1000" initialValue="20" amountToStepBy="1" />
                </valueFactory>
            </Spinner>

        </GridPane>

        <HBox alignment="CENTER_RIGHT" spacing="10.0">
            <children>
                <Button fx:id="saveButton" onAction="#saveConfigurationAction" text="Save and Close" prefWidth="120"/>
                <Button fx:id="cancelButton" onAction="#cancelAction" text="Cancel" prefWidth="80"/>
            </children>
            <VBox.margin>
                <Insets top="20.0" />
            </VBox.margin>
        </HBox>
    </children>
</VBox>